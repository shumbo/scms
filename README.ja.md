## SCMS とは？

SCMS は、Hugo、Hexo、Gatsby、Jekyll といった静的サイトジェネレータを使ったサイト向けのマークダウンエディタです。通常のマークダウンエディタとしての機能に加え、アセット（画像）の管理を行います。[File System Access API](https://wicg.github.io/file-system-access/)を用い、ブラウザ上で動作します。

## 要件

### ブラウザ

SCMS を利用するには、File System Access API をサポートしたブラウザが必要です。Chrome 86 以降を推奨します。Microsoft Edge 86 以降、Opera 72 以降でも動作するはずです。

### 静的サイトプロジェクト

SCMS は、

- 記事として扱われる Markdown ファイル
- 特定のパスから静的に配信される画像ファイル

を管理します。そのため、SCMS で管理するプロジェクトには、

- 内部の`.md`ファイルを記事として扱うディレクトリ(`posts` など)
- 内部ファイルを特定のパスから静的に配信するディレクトリ(`public` `assets` など)

の 2 つのディレクトリが必要です。

## 使い方

### ディレクトリの選択

トップページから「開く」ボタンをクリックすると、ディレクトリ選択モーダルが開きます。

静的サイトジェネレータで利用しているプロジェクトを選択してください。

### プロジェクトの作成

初めて選択するディレクトリの場合、プロジェクトを作成する必要があります。

SCMS が必要とする 4 つの情報を入力してください。

1. プロジェクト名
1. マークダウンファイルを設置するディレクトリ(`posts`, `pages` など)
1. 画像を設置するディレクトリ(`public`, `assets` など)
1. 画像が配信されるパス(`/assets` など)

例えば、一般的な Hugo プロジェクトは以下のようなディレクトリ構成です。

```
.
├── content
│   └── posts
│       ├── Hello.md
├── layouts
└── static
    ├── Picture1.png
```

`content/posts` 以下のマークダウンファイルは記事として扱われ、`static` 配下に設置されたファイルは `/` から静的に配信されます。

この構成の場合は、以下の値をプロジェクト作成時に設定します。

| Key                | Value            |
| ------------------ | ---------------- |
| Project Name       | Sample Hugo Blog |
| Markdown Directory | /content/posts   |
| Asset Directory    | /static          |
| Asset Serving Path | /                |

画像を `./static/images` 配下に設置したい場合は、 `Asset Serving Path` も `/images` としてください。

プロジェクトの設定は、`Home` からいつでも編集できます。

### 記事の作成/編集

記事一覧ページには、`Markdown Directory` 配下に存在するマークダウンファイルが表示されます。`Edit` をクリックすると、記事エディタが開きます。

記事に画像を挿入するには、マークダウンエディタ上部の画像アイコンをクリックします。システム上の画像を選択すると、プロジェクト内に画像がコピーされ、記事中に挿入されます。
